procs:
  # Front
  client-run:
    cwd: client
    shell: yarn vite
    autostart: false
  client-preview:
    cwd: client
    shell: yarn vite preview
    autostart: false

  # Back
  server-run:
    cwd: server
    shell: yarn start
    autostart: false

  # DB
  db-start:
    shell: docker compose up
    autostart: false
    stop:
      send-keys: ["<C-c>"]
  db-build:
    cwd: server
    shell: yarn migrate-mongo up
    autostart: false
  db-reset:
    cwd: server
    shell: yarn migrate-mongo down && yarn migrate-mongo up
    autostart: false
  db-destroy:
    cwd: server
    shell: yarn migrate-mongo down
    autostart: false

  # Other
  deploy:
    shell: docker compose --profile backend up
    autostart: false
    stop:
      send-keys: ["<C-c>"]
